<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... (Head content) ... -->
    <link href="${stylesUri}" rel="stylesheet">
    <script src="[https://unpkg.com/vue@3/dist/vue.global.prod.js](https://unpkg.com/vue@3/dist/vue.global.prod.js)"></script>
    <title>Gemini Swarm</title>
</head>
<body>
    <div id="app">
        <!-- Chat Container -->
        <div id="chat-container" ref="chatContainer">
            <!-- ... (Messages Loop) ... -->
            <div v-for="(msg, idx) in messages" :key="idx" :class="['message', msg.role]">
                <!-- ... (Content render logic) ... -->
                <div v-if="msg.type === 'tool_proposal'" class="artifact-card tool-card">
                    <!-- ... (Tool Card) ... -->
                    <div class="tool-actions" v-if="!msg.approved && !msg.rejected">
                         <button v-if="msg.content.tool === 'write_to_file'" class="diff-btn" @click="viewDiff(msg.content)">ğŸ‘€ View Diff</button>
                         <button class="approve-btn" @click="approveTool(idx, msg.content)">âœ… Approve</button>
                         <button class="reject-btn" @click="rejectTool(idx)">âŒ Reject</button>
                    </div>
                    <!-- ... -->
                </div>
                <!-- ... -->
                <div v-else>{{ msg.content }}</div>
            </div>
        </div>

        <!-- [Roo Code] Cost Dashboard -->
        <div id="cost-dashboard" v-if="costStats.totalTokens > 0">
            <span class="cost-item">
                ğŸ’ Tokens: <strong>{{ formatNumber(costStats.totalTokens) }}</strong>
            </span>
            <span class="cost-divider">|</span>
            <span class="cost-item">
                ğŸ’¸ Cost: <strong>${{ costStats.totalCost.toFixed(4) }}</strong>
            </span>
            <span class="cost-divider">|</span>
            <span class="cost-item">
                ğŸ”„ Req: {{ costStats.requests }}
            </span>
        </div>

        <!-- Input Area -->
        <div id="input-area">
            <textarea v-model="userInput" @keydown.enter.prevent="startTask" placeholder="Ask Coding Crew..." rows="3" :disabled="isProcessing"></textarea>
            <button @click="startTask" :disabled="isProcessing || !userInput">{{ isProcessing ? 'Processing...' : 'Send ğŸš€' }}</button>
        </div>
    </div>
    <script src="${scriptUri}"></script>
</body>
</html>
